{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nexports.isNumber = isNumber;\nexports.formatTimeItem = formatTimeItem;\nexports.validateTimeAndCursor = validateTimeAndCursor;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DEFAULT_COLON = ':';\nvar DEFAULT_VALUE_SHORT = '00' + DEFAULT_COLON + '00';\nvar DEFAULT_VALUE_FULL = '00' + DEFAULT_COLON + '00' + DEFAULT_COLON + '00';\n\nfunction isNumber(value) {\n  var number = Number(value);\n  return !isNaN(number) && String(value) === String(number);\n}\n\nfunction formatTimeItem(value) {\n  return ((value || '') + '00').substr(0, 2);\n}\n\nfunction validateTimeAndCursor() {\n  var showSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var colon = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_COLON;\n  var cursorPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n  var _defaultValue$split = defaultValue.split(colon),\n      _defaultValue$split2 = _slicedToArray(_defaultValue$split, 3),\n      oldH = _defaultValue$split2[0],\n      oldM = _defaultValue$split2[1],\n      oldS = _defaultValue$split2[2];\n\n  var newCursorPosition = Number(cursorPosition);\n\n  var _String$split = String(value).split(colon),\n      _String$split2 = _slicedToArray(_String$split, 3),\n      newH = _String$split2[0],\n      newM = _String$split2[1],\n      newS = _String$split2[2];\n\n  newH = formatTimeItem(newH);\n\n  if (Number(newH[0]) > 2) {\n    newH = oldH;\n    newCursorPosition -= 1;\n  } else if (Number(newH[0]) === 2) {\n    if (Number(oldH[0]) === 2 && Number(newH[1]) > 3) {\n      newH = '2' + oldH[1];\n      newCursorPosition -= 2;\n    } else if (Number(newH[1]) > 3) {\n      newH = '23';\n    }\n  }\n\n  newM = formatTimeItem(newM);\n\n  if (Number(newM[0]) > 5) {\n    newM = oldM;\n    newCursorPosition -= 1;\n  }\n\n  if (showSeconds) {\n    newS = formatTimeItem(newS);\n\n    if (Number(newS[0]) > 5) {\n      newS = oldS;\n      newCursorPosition -= 1;\n    }\n  }\n\n  var validatedValue = showSeconds ? '' + newH + colon + newM + colon + newS : '' + newH + colon + newM;\n  return [validatedValue, newCursorPosition];\n}\n\nvar TimeField = function (_React$Component) {\n  _inherits(TimeField, _React$Component);\n\n  function TimeField(props) {\n    var _ref;\n\n    _classCallCheck(this, TimeField);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = TimeField.__proto__ || Object.getPrototypeOf(TimeField)).call.apply(_ref, [this, props].concat(args)));\n\n    var _showSeconds = Boolean(props.showSeconds);\n\n    var _defaultValue = _showSeconds ? DEFAULT_VALUE_FULL : DEFAULT_VALUE_SHORT;\n\n    var _colon = props.colon && props.colon.length === 1 ? props.colon : DEFAULT_COLON;\n\n    var _validateTimeAndCurso = validateTimeAndCursor(_showSeconds, _this.props.value, _defaultValue, _colon),\n        _validateTimeAndCurso2 = _slicedToArray(_validateTimeAndCurso, 1),\n        validatedTime = _validateTimeAndCurso2[0];\n\n    _this.state = {\n      value: validatedTime,\n      _colon: _colon,\n      _showSeconds: _showSeconds,\n      _defaultValue: _defaultValue,\n      _maxLength: _defaultValue.length\n    };\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(TimeField, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.value !== prevProps.value) {\n        var _validateTimeAndCurso3 = validateTimeAndCursor(this.state._showSeconds, this.props.value, this.state._defaultValue, this.state._colon),\n            _validateTimeAndCurso4 = _slicedToArray(_validateTimeAndCurso3, 1),\n            validatedTime = _validateTimeAndCurso4[0];\n\n        this.setState({\n          value: validatedTime\n        });\n      }\n    }\n  }, {\n    key: 'onInputChange',\n    value: function onInputChange(event, callback) {\n      var oldValue = this.state.value;\n      var inputEl = event.target;\n      var inputValue = inputEl.value;\n      var position = inputEl.selectionEnd;\n      var isTyped = inputValue.length > oldValue.length;\n      var cursorCharacter = inputValue[position - 1];\n      var addedCharacter = isTyped ? cursorCharacter : null;\n      var removedCharacter = isTyped ? null : oldValue[position];\n      var replacedSingleCharacter = inputValue.length === oldValue.length ? oldValue[position - 1] : null;\n      var colon = this.state._colon;\n      var newValue = oldValue;\n      var newPosition = position;\n\n      if (addedCharacter !== null) {\n        if (position > this._maxLength) {\n          newPosition = this._maxLength;\n        } else if ((position === 3 || position === 6) && addedCharacter === colon) {\n          newValue = '' + inputValue.substr(0, position - 1) + colon + inputValue.substr(position + 1);\n        } else if ((position === 3 || position === 6) && isNumber(addedCharacter)) {\n          newValue = '' + inputValue.substr(0, position - 1) + colon + addedCharacter + inputValue.substr(position + 2);\n          newPosition = position + 1;\n        } else if (isNumber(addedCharacter)) {\n          // user typed a number\n          newValue = inputValue.substr(0, position - 1) + addedCharacter + inputValue.substr(position + 1);\n\n          if (position === 2 || position === 5) {\n            newPosition = position + 1;\n          }\n        } else {\n          // if user typed NOT a number, then keep old value & position\n          newPosition = position - 1;\n        }\n      } else if (replacedSingleCharacter !== null) {\n        // user replaced only a single character\n        if (isNumber(cursorCharacter)) {\n          if (position - 1 === 2 || position - 1 === 5) {\n            newValue = '' + inputValue.substr(0, position - 1) + colon + inputValue.substr(position);\n          } else {\n            newValue = inputValue;\n          }\n        } else {\n          // user replaced a number on some non-number character\n          newValue = oldValue;\n          newPosition = position - 1;\n        }\n      } else if (typeof cursorCharacter !== 'undefined' && cursorCharacter !== colon && !isNumber(cursorCharacter)) {\n        // set of characters replaced by non-number\n        newValue = oldValue;\n        newPosition = position - 1;\n      } else if (removedCharacter !== null) {\n        if ((position === 2 || position === 5) && removedCharacter === colon) {\n          newValue = inputValue.substr(0, position - 1) + '0' + colon + inputValue.substr(position);\n          newPosition = position - 1;\n        } else {\n          // user removed a number\n          newValue = inputValue.substr(0, position) + '0' + inputValue.substr(position);\n        }\n      }\n\n      var _validateTimeAndCurso5 = validateTimeAndCursor(this.state._showSeconds, newValue, oldValue, colon, newPosition),\n          _validateTimeAndCurso6 = _slicedToArray(_validateTimeAndCurso5, 2),\n          validatedTime = _validateTimeAndCurso6[0],\n          validatedCursorPosition = _validateTimeAndCurso6[1];\n\n      this.setState({\n        value: validatedTime\n      }, function () {\n        inputEl.selectionStart = validatedCursorPosition;\n        inputEl.selectionEnd = validatedCursorPosition;\n        callback(event, validatedTime);\n      });\n      event.persist();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var value = this.state.value;\n\n      var _props = this.props,\n          onChange = _props.onChange,\n          style = _props.style,\n          showSeconds = _props.showSeconds,\n          input = _props.input,\n          colon = _props.colon,\n          props = _objectWithoutProperties(_props, ['onChange', 'style', 'showSeconds', 'input', 'colon']); //eslint-disable-line no-unused-vars\n\n\n      var onChangeHandler = function onChangeHandler(event) {\n        return _this2.onInputChange(event, function (e, v) {\n          return onChange && onChange(e, v);\n        });\n      };\n\n      if (input) {\n        return _react2.default.cloneElement(input, _extends({}, props, {\n          value: value,\n          style: style,\n          onChange: onChangeHandler\n        }));\n      }\n\n      return _react2.default.createElement('input', _extends({\n        type: 'text'\n      }, props, {\n        value: value,\n        onChange: onChangeHandler,\n        style: _extends({\n          width: showSeconds ? 54 : 35\n        }, style)\n      }));\n    }\n  }]);\n\n  return TimeField;\n}(_react2.default.Component);\n\nTimeField.propTypes = {\n  value: _propTypes2.default.string.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  showSeconds: _propTypes2.default.bool,\n  input: _propTypes2.default.element,\n  colon: _propTypes2.default.string,\n  style: _propTypes2.default.object\n};\nTimeField.defaultProps = {\n  showSeconds: false,\n  input: null,\n  style: {},\n  colon: DEFAULT_COLON\n};\nexports.default = TimeField;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/soft-dev/project/Ahair/node_modules/react-simple-timefield/dist/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","isNumber","formatTimeItem","validateTimeAndCursor","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","DEFAULT_COLON","DEFAULT_VALUE_SHORT","DEFAULT_VALUE_FULL","number","Number","isNaN","String","substr","showSeconds","defaultValue","colon","cursorPosition","_defaultValue$split","split","_defaultValue$split2","oldH","oldM","oldS","newCursorPosition","_String$split","_String$split2","newH","newM","newS","validatedValue","TimeField","_React$Component","_ref","_len","args","_key","_this","getPrototypeOf","apply","concat","_showSeconds","Boolean","_defaultValue","_colon","_validateTimeAndCurso","_validateTimeAndCurso2","validatedTime","state","_maxLength","onInputChange","bind","componentDidUpdate","prevProps","_validateTimeAndCurso3","_validateTimeAndCurso4","setState","event","callback","oldValue","inputEl","inputValue","position","selectionEnd","isTyped","cursorCharacter","addedCharacter","removedCharacter","replacedSingleCharacter","newValue","newPosition","_validateTimeAndCurso5","_validateTimeAndCurso6","validatedCursorPosition","selectionStart","persist","render","_this2","_props","onChange","style","input","onChangeHandler","e","v","cloneElement","createElement","type","width","Component","propTypes","string","isRequired","func","bool","element","object","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.isNumber = isNumber;\nexports.formatTimeItem = formatTimeItem;\nexports.validateTimeAndCursor = validateTimeAndCursor;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_COLON = ':';\nvar DEFAULT_VALUE_SHORT = '00' + DEFAULT_COLON + '00';\nvar DEFAULT_VALUE_FULL = '00' + DEFAULT_COLON + '00' + DEFAULT_COLON + '00';\n\nfunction isNumber(value) {\n  var number = Number(value);\n  return !isNaN(number) && String(value) === String(number);\n}\n\nfunction formatTimeItem(value) {\n  return ((value || '') + '00').substr(0, 2);\n}\n\nfunction validateTimeAndCursor() {\n  var showSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var colon = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_COLON;\n  var cursorPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n  var _defaultValue$split = defaultValue.split(colon),\n      _defaultValue$split2 = _slicedToArray(_defaultValue$split, 3),\n      oldH = _defaultValue$split2[0],\n      oldM = _defaultValue$split2[1],\n      oldS = _defaultValue$split2[2];\n\n  var newCursorPosition = Number(cursorPosition);\n\n  var _String$split = String(value).split(colon),\n      _String$split2 = _slicedToArray(_String$split, 3),\n      newH = _String$split2[0],\n      newM = _String$split2[1],\n      newS = _String$split2[2];\n\n  newH = formatTimeItem(newH);\n  if (Number(newH[0]) > 2) {\n    newH = oldH;\n    newCursorPosition -= 1;\n  } else if (Number(newH[0]) === 2) {\n    if (Number(oldH[0]) === 2 && Number(newH[1]) > 3) {\n      newH = '2' + oldH[1];\n      newCursorPosition -= 2;\n    } else if (Number(newH[1]) > 3) {\n      newH = '23';\n    }\n  }\n\n  newM = formatTimeItem(newM);\n  if (Number(newM[0]) > 5) {\n    newM = oldM;\n    newCursorPosition -= 1;\n  }\n\n  if (showSeconds) {\n    newS = formatTimeItem(newS);\n    if (Number(newS[0]) > 5) {\n      newS = oldS;\n      newCursorPosition -= 1;\n    }\n  }\n\n  var validatedValue = showSeconds ? '' + newH + colon + newM + colon + newS : '' + newH + colon + newM;\n\n  return [validatedValue, newCursorPosition];\n}\n\nvar TimeField = function (_React$Component) {\n  _inherits(TimeField, _React$Component);\n\n  function TimeField(props) {\n    var _ref;\n\n    _classCallCheck(this, TimeField);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, (_ref = TimeField.__proto__ || Object.getPrototypeOf(TimeField)).call.apply(_ref, [this, props].concat(args)));\n\n    var _showSeconds = Boolean(props.showSeconds);\n    var _defaultValue = _showSeconds ? DEFAULT_VALUE_FULL : DEFAULT_VALUE_SHORT;\n    var _colon = props.colon && props.colon.length === 1 ? props.colon : DEFAULT_COLON;\n\n    var _validateTimeAndCurso = validateTimeAndCursor(_showSeconds, _this.props.value, _defaultValue, _colon),\n        _validateTimeAndCurso2 = _slicedToArray(_validateTimeAndCurso, 1),\n        validatedTime = _validateTimeAndCurso2[0];\n\n    _this.state = {\n      value: validatedTime,\n      _colon: _colon,\n      _showSeconds: _showSeconds,\n      _defaultValue: _defaultValue,\n      _maxLength: _defaultValue.length\n    };\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(TimeField, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.value !== prevProps.value) {\n        var _validateTimeAndCurso3 = validateTimeAndCursor(this.state._showSeconds, this.props.value, this.state._defaultValue, this.state._colon),\n            _validateTimeAndCurso4 = _slicedToArray(_validateTimeAndCurso3, 1),\n            validatedTime = _validateTimeAndCurso4[0];\n\n        this.setState({\n          value: validatedTime\n        });\n      }\n    }\n  }, {\n    key: 'onInputChange',\n    value: function onInputChange(event, callback) {\n      var oldValue = this.state.value;\n      var inputEl = event.target;\n      var inputValue = inputEl.value;\n      var position = inputEl.selectionEnd;\n      var isTyped = inputValue.length > oldValue.length;\n      var cursorCharacter = inputValue[position - 1];\n      var addedCharacter = isTyped ? cursorCharacter : null;\n      var removedCharacter = isTyped ? null : oldValue[position];\n      var replacedSingleCharacter = inputValue.length === oldValue.length ? oldValue[position - 1] : null;\n      var colon = this.state._colon;\n\n      var newValue = oldValue;\n      var newPosition = position;\n\n      if (addedCharacter !== null) {\n        if (position > this._maxLength) {\n          newPosition = this._maxLength;\n        } else if ((position === 3 || position === 6) && addedCharacter === colon) {\n          newValue = '' + inputValue.substr(0, position - 1) + colon + inputValue.substr(position + 1);\n        } else if ((position === 3 || position === 6) && isNumber(addedCharacter)) {\n          newValue = '' + inputValue.substr(0, position - 1) + colon + addedCharacter + inputValue.substr(position + 2);\n          newPosition = position + 1;\n        } else if (isNumber(addedCharacter)) {\n          // user typed a number\n          newValue = inputValue.substr(0, position - 1) + addedCharacter + inputValue.substr(position + 1);\n          if (position === 2 || position === 5) {\n            newPosition = position + 1;\n          }\n        } else {\n          // if user typed NOT a number, then keep old value & position\n          newPosition = position - 1;\n        }\n      } else if (replacedSingleCharacter !== null) {\n        // user replaced only a single character\n        if (isNumber(cursorCharacter)) {\n          if (position - 1 === 2 || position - 1 === 5) {\n            newValue = '' + inputValue.substr(0, position - 1) + colon + inputValue.substr(position);\n          } else {\n            newValue = inputValue;\n          }\n        } else {\n          // user replaced a number on some non-number character\n          newValue = oldValue;\n          newPosition = position - 1;\n        }\n      } else if (typeof cursorCharacter !== 'undefined' && cursorCharacter !== colon && !isNumber(cursorCharacter)) {\n        // set of characters replaced by non-number\n        newValue = oldValue;\n        newPosition = position - 1;\n      } else if (removedCharacter !== null) {\n        if ((position === 2 || position === 5) && removedCharacter === colon) {\n          newValue = inputValue.substr(0, position - 1) + '0' + colon + inputValue.substr(position);\n          newPosition = position - 1;\n        } else {\n          // user removed a number\n          newValue = inputValue.substr(0, position) + '0' + inputValue.substr(position);\n        }\n      }\n\n      var _validateTimeAndCurso5 = validateTimeAndCursor(this.state._showSeconds, newValue, oldValue, colon, newPosition),\n          _validateTimeAndCurso6 = _slicedToArray(_validateTimeAndCurso5, 2),\n          validatedTime = _validateTimeAndCurso6[0],\n          validatedCursorPosition = _validateTimeAndCurso6[1];\n\n      this.setState({ value: validatedTime }, function () {\n        inputEl.selectionStart = validatedCursorPosition;\n        inputEl.selectionEnd = validatedCursorPosition;\n        callback(event, validatedTime);\n      });\n\n      event.persist();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var value = this.state.value;\n\n      var _props = this.props,\n          onChange = _props.onChange,\n          style = _props.style,\n          showSeconds = _props.showSeconds,\n          input = _props.input,\n          colon = _props.colon,\n          props = _objectWithoutProperties(_props, ['onChange', 'style', 'showSeconds', 'input', 'colon']); //eslint-disable-line no-unused-vars\n\n\n      var onChangeHandler = function onChangeHandler(event) {\n        return _this2.onInputChange(event, function (e, v) {\n          return onChange && onChange(e, v);\n        });\n      };\n\n      if (input) {\n        return _react2.default.cloneElement(input, _extends({}, props, {\n          value: value,\n          style: style,\n          onChange: onChangeHandler\n        }));\n      }\n\n      return _react2.default.createElement('input', _extends({\n        type: 'text'\n      }, props, {\n        value: value,\n        onChange: onChangeHandler,\n        style: _extends({ width: showSeconds ? 54 : 35 }, style)\n      }));\n    }\n  }]);\n\n  return TimeField;\n}(_react2.default.Component);\n\nTimeField.propTypes = {\n  value: _propTypes2.default.string.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  showSeconds: _propTypes2.default.bool,\n  input: _propTypes2.default.element,\n  colon: _propTypes2.default.string,\n  style: _propTypes2.default.object\n};\nTimeField.defaultProps = {\n  showSeconds: false,\n  input: null,\n  style: {},\n  colon: DEFAULT_COLON\n};\nexports.default = TimeField;"]},"metadata":{},"sourceType":"script"}